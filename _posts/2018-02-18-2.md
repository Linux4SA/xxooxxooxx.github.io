---
layout: post
title: Linux 密码文件
date:   2018-02-18 08:32:43 +0800
tags: [Jekyll, GitHub, 教程]
---

## Linux 密码文件

文件路径/etc/shadow

root:$6$0VaHKt2j$KqI3CmB/tl.ScWdKMMTadJ1D5WL75xjYM9HDpnV9M/rQ.FAa60zRFf/SKO07r1NyzYIFE4oa8kaMQB41c18gf1:16855:0:99999:7:::

其中

$6$0VaHKt2j$KqI3CmB/tl.ScWdKMMTadJ1D5WL75xjYM9HDpnV9M/rQ.FAa60zRFf/SKO07r1NyzYIFE4oa8kaMQB41c18gf1

即为密码加密后的哈希，这个字段又被分为3段

其中$为分割符

6 --不同数字为特定的哈希加密算法
0VaHKt2j--为salt(加盐值，用来干扰加密的,随机生成)

KqI3CmB/tl.ScWdKMMTadJ1D5WL75xjYM9HDpnV9M/rQ.FAa60zRFf/SKO07r1NyzYIFE4oa8kaMQB41c18gf1--最终的加密哈希


由于事先知道我自己的密码是多少，我们也可以手工生成这串字符
有一个叫mkpasswd的命令

oot@kali:~# mkpasswd -m help
Available methods:
des	standard 56 bit DES-based crypt(3)
md5	MD5
sha-256	SHA-256
sha-512	SHA-512

不同数字特定的算法如下

$0 = DES
$1 = MD5
$2a(2y) = Blowfish
$5 = SHA-256
$6 = SHA-512

所以我们的命令为

root@kali:~# mkpasswd -m sha-512 -S '0VaHKt2j' toor

$6$0VaHKt2j$KqI3CmB/tl.ScWdKMMTadJ1D5WL75xjYM9HDpnV9M/rQ.FAa60zRFf/SKO07r1NyzYIFE4oa8kaMQB41c18gf1

这和/etc/shadows里的对应的是一样的，因为我们的salt是一样的，当我们使用不同的salt时，最终结果就会不同。

root@kali:~# mkpasswd -m sha-512 -S '0VaHKt2k' toor

$6$0VaHKt2k$MYJcdbt9jc2OG9WhlOL9XfWbgKlwOu8vREVh.zVWmiEpqWIGnl80Tq4vYdEBnO66oMw7q9kT/i.D9uUjF5QuM1


当使用hashcat破解时，可以使用hash-identifier来帮助检测下(有的依然无法识别)


hashcat64.exe -m 2500 -a 3 -1 358 TPLINKA58E_D8-15-0D-BE-A5-8E.hccapx 1?1?d?d?d?d?d?d?d?d?d
